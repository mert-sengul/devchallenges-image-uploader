(this.webpackJsonpimage_uploader=this.webpackJsonpimage_uploader||[]).push([[0],{46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var i=n(4),r=n(5),s=n(3),a=n(7),c=n(6),o=n(1),l=n.n(o),u=n(19),j=n.n(u),b=n(8),d=n(0),p=l.a.forwardRef((function(e,t){return Object(d.jsx)("form",{action:"/api/images/",method:"POST",encType:"multipart/form-data",children:Object(d.jsx)("input",{ref:t,hidden:!0,name:"file",type:"file",id:e.fileInputId,accept:"image/*",onChange:e.onChange})})})),h=n(10),f=n.n(h),m=n(20),O=n(21),x=n.n(O),v="csrftoken",g="X-CSRFToken",y="/api/images/";function k(){return(k=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x.a.post(y,new FormData(t),{xsrfCookieName:v,xsrfHeaderName:g}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){var t=function(e){e.stopPropagation(),e.preventDefault()};return Object(d.jsxs)("div",{className:"rectangle dropzone-rectangle",onDrop:function(n){return function(n){t(n);var i=n.dataTransfer.files;e.submitFiles(i)}(n)},onDragEnter:function(e){return t(e)},onDragOver:function(e){return t(e)},children:[Object(d.jsx)(F,{src:"static/frontend/mountains.svg"}),Object(d.jsx)(w,{text:"Drag & Drop your image here"})]})}function I(e){var t,n,i=e.child,r=Object(b.a)(Object(b.a)({},i.props),{},{submitFiles:null===(t=e)||void 0===t?void 0:t.submitFiles,htmlFor:null===(n=e)||void 0===n?void 0:n.htmlFor});return new i.type(e=r)}var S=function(e){Object(a.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).fileInputId="file_input_id",r.fileInput=l.a.createRef(),r.submitFiles=r.submitFiles.bind(Object(s.a)(r)),r.onInputChange=r.onInputChange.bind(Object(s.a)(r)),r}return Object(r.a)(n,[{key:"submitFiles",value:function(e){this.fileInput.current.files=e;var t=new Event("change",{bubbles:!0});this.fileInput.current.dispatchEvent(t)}},{key:"onInputChange",value:function(e){var t=this,n=this.fileInput.current.parentElement;this.props.onSubmit(),function(e){return k.apply(this,arguments)}(n).then((function(e){t.props.onUploadConfirmed(e.data.file)}))}},{key:"render",value:function(){var e=this;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(p,{onChange:this.onInputChange,fileInputId:this.fileInputId,ref:this.fileInput}),this.props.children.map((function(t,n){var i,r;return(null===(i=t.props)||void 0===i?void 0:i.isSubmitter)?Object(d.jsx)(I,{child:t,submitFiles:e.submitFiles},n):(null===(r=t.props)||void 0===r?void 0:r.isLabel)?Object(d.jsx)(I,{child:t,htmlFor:e.fileInputId},n):Object(d.jsx)(I,{child:t},n)}))]})}}]),n}(l.a.Component);function F(e){return Object(d.jsx)("div",{className:"vector",children:Object(d.jsx)("img",{src:e.src,alt:e.alt})})}function w(e){return Object(d.jsx)("div",{className:"dropzone-text",children:Object(d.jsx)("h2",{children:e.text})})}var D=function(e){Object(a.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).initialStyle={transition:"unset",right:"100%",left:"0%"},r.progressStyle={transition:"right 1s ease-in-out 0s, left 1s ease-in-out 0.3s",right:"0%",left:"100%"},r.state={fillerStyles:Object(b.a)({},r.initialStyle)},r.progress=r.progress.bind(Object(s.a)(r)),r}return Object(r.a)(n,[{key:"progress",value:function(){var e=this;this.setState({fillerStyles:Object(b.a)({},this.initialStyle)}),this.timeoutID=setTimeout((function(){e.setState({fillerStyles:Object(b.a)({},e.progressStyle)})}),50)}},{key:"componentDidMount",value:function(){this.progress(),this.intervalID=setInterval(this.progress,1100)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID),clearTimeout(this.timeoutID)}},{key:"render",value:function(){return Object(d.jsx)("div",{className:"progress-bar",children:Object(d.jsx)("div",{className:"progress-line",style:this.state.fillerStyles})})}}]),n}(l.a.Component);function N(e){return Object(d.jsx)("div",{className:"rectangle large-rectangle",children:e.children})}function U(e){return Object(d.jsx)("div",{className:"upload",children:Object(d.jsx)("h1",{className:e.textClass,children:e.text})})}function T(e){return Object(d.jsx)("div",{className:"info-section",children:Object(d.jsx)("h3",{children:e.text})})}function R(e){return Object(d.jsx)("svg",{id:"checkmark",xmlns:"http://www.w3.org/2000/svg",width:"2em",height:"2em",viewBox:"0 0 24 24",children:Object(d.jsx)("path",{d:"M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-1 17l-5-5.299 1.399-1.43 3.574 3.736 6.572-7.007 1.455 1.403-8 8.597z"})})}function E(e){return Object(d.jsx)("img",{className:"rectangle image-rectangle",src:e.imageURL,alt:"Uploaded content"})}function L(e){return Object(d.jsx)("div",{className:"or-text",children:Object(d.jsx)("h2",{children:e.text})})}function V(e){return Object(d.jsx)("label",{type:"button",className:"button choose-button",id:"get_file",htmlFor:e.htmlFor,children:"Choose a file"})}function _(e){return Object(d.jsx)("input",{type:"button",className:"button copy-button",value:"Copy Link",onClick:function(t){e.onClick(t)}})}var z=l.a.forwardRef((function(e,t){return Object(d.jsx)("input",{type:"text",readOnly:!0,value:e.value,ref:t,onDoubleClick:e.onDoubleClick})}));function J(e){return Object(d.jsx)("footer",{children:Object(d.jsxs)("p",{children:["created by ",Object(d.jsx)("strong",{children:"mert-sengul"})," - devChallenges.io"]})})}var M=function(e){Object(a.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).textValue=l.a.createRef(),r.copyToClipboard=r.copyToClipboard.bind(Object(s.a)(r)),r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.textValue.current.selectionEnd=0}},{key:"copyToClipboard",value:function(){this.textValue.current.select(),navigator.clipboard.writeText(this.textValue.current.value)}},{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{className:"rectangle link-area",children:[Object(d.jsx)(z,{value:this.props.link,ref:this.textValue,onDoubleClick:function(t){return e.copyToClipboard()}}),Object(d.jsx)(_,{onClick:function(t){e.copyToClipboard()}})]})}}]),n}(l.a.Component);n(46);function P(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(N,{children:[Object(d.jsx)(U,{text:"Upload your image"}),Object(d.jsx)(T,{text:"File should be Jpeg, Png,..."}),Object(d.jsxs)(S,{onSubmit:e.onSubmit,onUploadConfirmed:e.onUploadConfirmed,children:[Object(d.jsx)(C,{isSubmitter:!0}),Object(d.jsx)(L,{text:"Or"}),Object(d.jsx)(V,{isLabel:!0})]})]})})}function B(e){return Object(d.jsxs)(N,{children:[Object(d.jsx)(U,{textClass:"align-left",text:"Uploading..."}),Object(d.jsx)(D,{})]})}function H(e){return Object(d.jsxs)(N,{children:[Object(d.jsx)(R,{}),Object(d.jsx)(U,{text:"Uploaded Successfully!"}),Object(d.jsx)(E,{imageURL:e.link}),Object(d.jsx)(M,{link:e.link})]})}var W=function(e){Object(a.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state={submitted:!1,uploaded:!1,link:null},r.onSubmit=r.onSubmit.bind(Object(s.a)(r)),r.onUploadConfirmed=r.onUploadConfirmed.bind(Object(s.a)(r)),r}return Object(r.a)(n,[{key:"onSubmit",value:function(e){this.setState({submitted:!0})}},{key:"onUploadConfirmed",value:function(e){console.log(e),this.setState({uploaded:!0,link:e})}},{key:"render",value:function(){var e=this.state.submitted?this.state.uploaded?Object(d.jsx)(H,{link:this.state.link}):Object(d.jsx)(B,{}):Object(d.jsx)(P,{onSubmit:this.onSubmit,onUploadConfirmed:this.onUploadConfirmed});return Object(d.jsxs)(d.Fragment,{children:[e,Object(d.jsx)(J,{})]})}}]),n}(l.a.Component);j.a.render(Object(d.jsx)(W,{}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.1cc88ea5.chunk.js.map