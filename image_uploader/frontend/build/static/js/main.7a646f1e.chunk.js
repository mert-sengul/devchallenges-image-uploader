(this["webpackJsonpimage-uploader"]=this["webpackJsonpimage-uploader"]||[]).push([[0],{26:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var i=n(3),r=n(4),a=n(5),c=n(7),s=n(6),o=n(1),l=n.n(o),u=n(19),j=n.n(u),b=(n(26),n(8)),d=n(0);function p(e){return window.csrfCookie?Object(d.jsx)("input",{type:"hidden",name:e.tokenName,value:window.csrfCookie}):null}var h=l.a.forwardRef((function(e,t){return Object(d.jsxs)("form",{action:"/api/images/",method:"POST",encType:"multipart/form-data",children:[Object(d.jsx)(p,{tokenName:"csrfmiddlewaretoken"}),Object(d.jsx)("input",{ref:t,hidden:!0,name:"file",type:"file",id:e.fileInputId,accept:"image/*",onChange:e.onChange})]})})),f=n(10),m=n.n(f),O=n(20),x=n(21),v=n.n(x),g="csrftoken",y="X-CSRFToken",k="api/images/";function C(){return(C=Object(O.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.a.post(k,new FormData(t),{xsrfCookieName:g,xsrfHeaderName:y}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){var t=function(e){e.stopPropagation(),e.preventDefault()};return Object(d.jsxs)("div",{className:"rectangle dropzone-rectangle",onDrop:function(n){return function(n){t(n);var i=n.dataTransfer.files;e.submitFiles(i)}(n)},onDragEnter:function(e){return t(e)},onDragOver:function(e){return t(e)},children:[Object(d.jsx)(F,{src:"static/frontend/mountains.svg"}),Object(d.jsx)(N,{text:"Drag & Drop your image here"})]})}function I(e){var t,n,i=e.child,r=Object(b.a)(Object(b.a)({},i.props),{},{submitFiles:null===(t=e)||void 0===t?void 0:t.submitFiles,htmlFor:null===(n=e)||void 0===n?void 0:n.htmlFor});return new i.type(e=r)}var w=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).fileInputId="file_input_id",a.fileInput=l.a.createRef(),a.submitFiles=a.submitFiles.bind(Object(i.a)(a)),a.onInputChange=a.onInputChange.bind(Object(i.a)(a)),a}return Object(a.a)(n,[{key:"submitFiles",value:function(e){this.fileInput.current.files=e;var t=new Event("change",{bubbles:!0});this.fileInput.current.dispatchEvent(t)}},{key:"onInputChange",value:function(e){var t=this,n=this.fileInput.current.parentElement;this.props.onSubmit(),function(e){return C.apply(this,arguments)}(n).then((function(e){t.props.onUploadConfirmed(e.data.file)}))}},{key:"render",value:function(){var e=this;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(h,{onChange:this.onInputChange,fileInputId:this.fileInputId,ref:this.fileInput}),this.props.children.map((function(t,n){var i,r;return(null===(i=t.props)||void 0===i?void 0:i.isSubmitter)?Object(d.jsx)(I,{child:t,submitFiles:e.submitFiles},n):(null===(r=t.props)||void 0===r?void 0:r.isLabel)?Object(d.jsx)(I,{child:t,htmlFor:e.fileInputId},n):Object(d.jsx)(I,{child:t},n)}))]})}}]),n}(l.a.Component);function F(e){return Object(d.jsx)("div",{className:"vector",children:Object(d.jsx)("img",{src:e.src,alt:e.alt})})}function N(e){return Object(d.jsx)("div",{className:"dropzone-text",children:Object(d.jsx)("h2",{children:e.text})})}var U=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).initialStyle={transition:"unset",right:"100%",left:"0%"},a.progressStyle={transition:"right 1s ease-in-out 0s, left 1s ease-in-out 0.3s",right:"0%",left:"100%"},a.state={fillerStyles:Object(b.a)({},a.initialStyle)},a.progress=a.progress.bind(Object(i.a)(a)),a}return Object(a.a)(n,[{key:"progress",value:function(){var e=this;this.setState({fillerStyles:Object(b.a)({},this.initialStyle)}),setTimeout((function(){e.setState({fillerStyles:Object(b.a)({},e.progressStyle)})}),50)}},{key:"componentDidMount",value:function(){this.progress(),this.timerID=setInterval(this.progress,1100)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"render",value:function(){return Object(d.jsx)("div",{className:"progress-bar",children:Object(d.jsx)("div",{className:"progress-line",style:this.state.fillerStyles})})}}]),n}(l.a.Component);function D(e){return Object(d.jsx)("div",{className:"rectangle large-rectangle",children:e.children})}function L(e){return Object(d.jsx)("div",{className:"upload",children:Object(d.jsx)("h1",{className:e.textClass,children:e.text})})}function T(e){return Object(d.jsx)("div",{className:"info-section",children:Object(d.jsx)("h3",{children:e.text})})}function R(e){return Object(d.jsx)("svg",{id:"checkmark",xmlns:"http://www.w3.org/2000/svg",width:"2em",height:"2em",viewBox:"0 0 24 24",children:Object(d.jsx)("path",{d:"M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-1 17l-5-5.299 1.399-1.43 3.574 3.736 6.572-7.007 1.455 1.403-8 8.597z"})})}function E(e){return Object(d.jsx)("img",{className:"rectangle image-rectangle",src:e.imageURL,alt:"Uploaded content"})}function V(e){return Object(d.jsx)("div",{className:"or-text",children:Object(d.jsx)("h2",{children:e.text})})}function z(e){return Object(d.jsx)("label",{type:"button",className:"button choose-button",id:"get_file",htmlFor:e.htmlFor,children:"Choose a file"})}function J(e){return Object(d.jsx)("input",{type:"button",className:"button copy-button",value:"Copy Link",onClick:function(t){e.onClick(t)}})}var M=l.a.forwardRef((function(e,t){return Object(d.jsx)("input",{type:"text",readOnly:!0,value:e.value,ref:t,onDoubleClick:e.onDoubleClick})}));function P(e){return Object(d.jsx)("footer",{children:Object(d.jsxs)("p",{children:["created by ",Object(d.jsx)("strong",{children:"mert-sengul"})," - devChallenges.io"]})})}var _=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).textValue=l.a.createRef(),a.copyToClipboard=a.copyToClipboard.bind(Object(i.a)(a)),a}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.textValue.current.selectionEnd=0}},{key:"copyToClipboard",value:function(){this.textValue.current.select(),navigator.clipboard.writeText(this.textValue.current.value)}},{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{className:"rectangle link-area",children:[Object(d.jsx)(M,{value:this.props.link,ref:this.textValue,onDoubleClick:function(t){return e.copyToClipboard()}}),Object(d.jsx)(J,{onClick:function(t){e.copyToClipboard()}})]})}}]),n}(l.a.Component),B=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(D,{children:[Object(d.jsx)(L,{text:"Upload your image"}),Object(d.jsx)(T,{text:"File should be Jpeg, Png,..."}),Object(d.jsxs)(w,{onSubmit:this.props.onSubmit,onUploadConfirmed:this.props.onUploadConfirmed,children:[Object(d.jsx)(S,{isSubmitter:!0}),Object(d.jsx)(V,{text:"Or"}),Object(d.jsx)(z,{isLabel:!0})]})]})})}}]),n}(l.a.Component),H=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(d.jsxs)(D,{children:[Object(d.jsx)(L,{textClass:"align-left",text:"Uploading..."}),Object(d.jsx)(U,{})]})}}]),n}(l.a.Component),W=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(d.jsxs)(D,{children:[Object(d.jsx)(R,{}),Object(d.jsx)(L,{text:"Uploaded Successfully!"}),Object(d.jsx)(E,{imageURL:this.props.imageLink}),Object(d.jsx)(_,{link:this.props.imageLink})]})}}]),n}(l.a.Component),X=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={submitted:!1,uploaded:!1,imageLink:null},a.onSubmit=a.onSubmit.bind(Object(i.a)(a)),a.onUploadConfirmed=a.onUploadConfirmed.bind(Object(i.a)(a)),a}return Object(a.a)(n,[{key:"onSubmit",value:function(){this.setState({submitted:!0})}},{key:"onUploadConfirmed",value:function(e){this.setState({uploaded:!0,imageLink:e})}},{key:"render",value:function(){var e=this.state.submitted?this.state.uploaded?Object(d.jsx)(W,{imageLink:this.state.imageLink}):Object(d.jsx)(H,{}):Object(d.jsx)(B,{onSubmit:this.onSubmit,onUploadConfirmed:this.onUploadConfirmed});return Object(d.jsxs)(d.Fragment,{children:[e,Object(d.jsx)(P,{})]})}}]),n}(l.a.Component);j.a.render(Object(d.jsx)(X,{}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.7a646f1e.chunk.js.map